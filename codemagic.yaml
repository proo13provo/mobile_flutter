workflows:
  ios-release:
    name: iOS Release
    max_build_duration: 60

    environment:
      flutter: stable
      xcode: latest

    ios_signing:
      distribution_type: development   # hoáº·c app_store
      bundle_identifier: com.yourcompany.mobileflutter

    triggering:
      events:
        - push
      branch_patterns:
        - pattern: main
          include: true

    scripts:
      - name: Flutter pub get
        script: flutter pub get

      - name: Build iOS
        script: flutter build ios --release

    artifacts:
      - build/ios/ipa/*.ipa
      - build/ios/archive/*.xcarchive

